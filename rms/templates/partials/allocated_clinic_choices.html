{% load panels %}
<div ng-show="allocatedClinicLocationHelper.submit">
  <div  ng-repeat="tier in ['2', '3']" class="row">
    <div class="col-md-12">
      <div class="odonto-small-title">Tier [[ tier ]]</div>
      <span ng-repeat="clinic_location in metadata.clinic_location | filter:{tier: tier}">
        <div ng-class="{'row': ($index+1)%3==0}">
          <div class="col-md-4 content-offset-below-20">
            <label style="width: 100%" class="btn btn-lg btn-default" ng-model="allocatedClinicLocationHelper.editing.allocated_clinic.location_id" uib-btn-radio="clinic_location.id">
              <h5>
                <p>[[ clinic_location.name  ]]</p>
                <p><small>[[ clinic_location.address_line1 ]]</small></p>
                <p><small>[[ clinic_location.address_line2 ]]</small></p>
                <p><small>[[ clinic_location.post_code ]]</small></p>
                <p><small>[[ clinic_location.tel ]]</small></p>
              </h5>
            </label>
          </div>
        </div>
      </span>
    </div>
  </div>
  <div class="row">
    <div class="col-md-12 text-center">
      <button ng-disabled="allocatedClinicLocationHelper.saving" ng-click="allocatedClinicLocationHelper.submit()" class="btn btn-primary">
        Go
        <i class="fa fa-spinner fa-spin fa-fw" ng-show="self.saving"></i>
      </button>
    </div>
  </div>
</div>
<div ng-show="allocatedClinicLocationHelper.confirm">
  {% record_panel models.AllocatedClinic %}
  <div class="row">
    <div class="col-md-12 text-center">
      <button ng-disabled="allocatedClinicLocationHelper.saving" ng-click="allocatedClinicLocationHelper.confirm()" class="btn btn-primary">
        Confirm
        <i class="fa fa-spinner fa-spin fa-fw" ng-show="self.saving"></i>
      </button>
    </div>
  </div>
</div>
